<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<script src="./build/three.js"></script>
<script src="./examples/js/controls/OrbitControls.js"></script>
<script src="./examples/js/libs/dat.gui.min.js"></script>
</head>
<body>
<script>
var width, height, renderer, scene, camera, light, geometry, material, gui, controls,plane;
width = window.innerWidth;
height = window.innerHeight;
    //创建渲染器
renderer = new THREE.WebGLRenderer({antialias: true});//抗锯齿 可选
renderer.setClearColor("#fff");
// renderer.setSize(width, height);
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.shadowMap.enabled = true;
    //告诉渲染器需要阴影效果
document.body.appendChild(renderer.domElement);
//创建场景
scene = new THREE.Scene();
//创建相机
camera = new THREE.PerspectiveCamera(60, width / height, 1, 1000);
camera.position.set(200, 300, 400);
camera.lookAt(0, 0, 0);
//创建光源(平行光)
light = new THREE.DirectionalLight("#fff");
light.position.set(150,30,70);
light.castShadow = true;//告诉平行光需要开启阴影投射
scene.add(light);
// var light2 = new THREE.DirectionalLight("#fff");
// light2.position.set(-200, -300, -400);
// light2.castShadow = true;//告诉平行光需要开启阴影投射
// scene.add(light2);
//创建控制器
controls = new THREE.OrbitControls(camera, renderer.domElement);
gui = new dat.GUI();
gui.add(light.position,'x',-200,500);
gui.add(light.position,'y',-200,500);
gui.add(light.position,'z',-200,500);
    var helper = new THREE.AxesHelper(100);
    scene.add(helper)
    // 创建平面圆
var CircleGeometry = new THREE.CircleGeometry(5,24);
var CircleMaterial=new THREE.MeshLambertMaterial({color:"#87CEEB"});
var Circle = new THREE.Mesh(CircleGeometry,CircleMaterial);
Circle.position.set(10,5,6);
Circle.castShadow = true;
// scene.add(Circle);
//盒子
var BoxGeometry=new THREE.BoxGeometry(8,8,8,4,4,4);
    var BoxMaterial=new THREE.MeshStandardMaterial({color:"#FFB6C1"});
    var Box=new THREE.Mesh(BoxGeometry,BoxMaterial);
    Box.position.set(-11,5,0);
    Box.castShadow =true;
    scene.add(Box);
    //平面
var planeGeometry = new THREE.PlaneGeometry(100, 75, 1, 1);//宽、长、横向分段数、纵向分段数
    var planeMaterial = new THREE.MeshStandardMaterial({color: 0xaaaaaa})
    plane = new THREE.Mesh(planeGeometry, planeMaterial);
    plane.rotation.x = -0.5 * Math.PI;
    plane.receiveShadow = true;
    scene.add(plane);
    // plane.receiveShadow = true;

//创建柱子
var boxGeometry = new THREE.BoxGeometry(3, 10, 3)
var boxMaterial = new THREE.MeshStandardMaterial({});
var box = new THREE.Mesh(boxGeometry, boxMaterial);
box.position.set(0, 5, 0);
// scene.add(box)

// 锥形
var Geometry = new THREE.ConeGeometry(6,8,16);
var ConeeMaterial=new THREE.MeshLambertMaterial({color:"#5F9EA0"});
var Cone = new THREE.Mesh(Geometry,CircleMaterial);
Cone.position.set(30,4,20);
scene.add(Cone);
// 球
var DodecahedronGeometry = new THREE.DodecahedronGeometry(7,2);
var DodecahedronMaterial=new THREE.MeshLambertMaterial({color:"#5F9EA0"});
var Dodecahedron = new THREE.Mesh(DodecahedronGeometry,DodecahedronMaterial);
Dodecahedron.position.set(20,7,0);
Dodecahedron.castShadow = true;
scene.add(Dodecahedron);
// gui.add(Cone.position,'x',-1,20,0.5);
//     gui.add(Cone.position,'y',0,20,0.5);
//     gui.add(Cone.position,'z',0,20,0.5);
//空心爱心
const outline = new THREE.Shape([
[ -2, -0.1], [  2, -0.1], [ 2,  0.6],
[1.6,  0.6], [1.6,  0.1], [-2,  0.1],
].map(p => new THREE.Vector2(...p)));

const x = -2.5;
const y = -5;
const shape = new THREE.CurvePath();
const points = [
[x + 2.5, y + 2.5],
[x + 2.5, y + 2.5], [x + 2,   y      ], [x,       y      ],
[x - 3,   y      ], [x - 3,   y + 3.5], [x - 3,   y + 3.5],
[x - 3,   y + 5.5], [x - 1.5, y + 7.7], [x + 2.5, y + 9.5],
[x + 6,   y + 7.7], [x + 8,   y + 4.5], [x + 8,   y + 3.5],
[x + 8,   y + 3.5], [x + 8,   y      ], [x + 5,   y      ],
[x + 3.5, y      ], [x + 2.5, y + 2.5], [x + 2.5, y + 2.5],
].map(p => new THREE.Vector3(...p, 0));
for (let i = 0; i < points.length; i += 3) {
shape.add(new THREE.CubicBezierCurve3(...points.slice(i, i + 4)));
}

const extrudeSettings = {
steps: 100,  // ui: steps
bevelEnabled: false,
extrudePath: shape,
};
const ExtrudeGeometry =  new THREE.ExtrudeGeometry(outline, extrudeSettings);
var ExtrudeMaterial=new THREE.MeshLambertMaterial({color:"#5F9EA0"});
var Extrude = new THREE.Mesh(ExtrudeGeometry,ExtrudeMaterial);
Extrude.position.set(-10,7,15);
// scene.add(Extrude);
// 爱心
const shape1 = new THREE.Shape();
const x1 = -2.5;
const y1 = -5;
shape1.moveTo(x1 + 2.5, y1 + 2.5);
shape1.bezierCurveTo(x1 + 2.5, y1 + 2.5, x1 + 2, y1, x1, y1);
shape1.bezierCurveTo(x1 - 3, y1, x1 - 3, y1 + 3.5, x1 - 3, y1 + 3.5);
shape1.bezierCurveTo(x1 - 3, y1 + 5.5, x1 - 1.5, y1 + 7.7, x1 + 2.5, y1 + 9.5);
shape1.bezierCurveTo(x1 + 6, y1 + 7.7, x1 + 8, y1 + 4.5, x1 + 8, y1 + 3.5);
shape1.bezierCurveTo(x1 + 8, y1 + 3.5, x1 + 8, y1, x1 + 5, y1);
shape1.bezierCurveTo(x1 + 3.5, y1, x1 + 2.5, y1 + 2.5, x1 + 2.5, y1 + 2.5);

const extrude1Settings = {
steps: 2,  // ui: steps
depth: 2,  // ui: depth
bevelEnabled: true,  // ui: bevelEnabled
bevelThickness: 1,  // ui: bevelThickness
bevelSize: 1,  // ui: bevelSize
bevelSegments: 2,  // ui: bevelSegments
};
// scene.fog = new THREE.Fog(0xffffff,30,100);
// scene.fog = new THREE.FogExp2(0xffffff,0.02);
const Extrude1Geometry =  new THREE.ExtrudeGeometry(shape1, extrude1Settings);
var Extrude1Material=new THREE.MeshLambertMaterial({color:"#5F9EA0"});
var Extrude1 = new THREE.Mesh(Extrude1Geometry,Extrude1Material);
Extrude1.position.set(-10,7,-15);
// scene.add(Extrude1);
    //渲染函数
renderer.render(scene, camera);
//什么叫做一帧图片
//每调用一次，即相当于相机拍摄了一张照片，1秒拍摄了60张照片
var controls = new THREE.OrbitControls(camera,renderer.domElement);
function animate() {
    // controls.update();
    renderer.render(scene, camera);
    requestAnimationFrame(animate);//一秒钟调用60次，与电脑的配置有关
}
window.onload = animate;
</script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./build/three.js"></script>
    <script src="./examples/js/controls/OrbitControls.js"></script>
    <script src="./examples/js/libs/dat.gui.min.js"></script>
    <script src="./examples/js/controls/TrackballControls.js"></script>
    <script src="./examples/js/libs/stats.min.js"></script>
</head>
<body >
    
</body>
<script>
    var renderer;//渲染器
    function initRender()
    {
        renderer = new THREE.WebGLRenderer({antialias:true});
        renderer.setSize(window.innerWidth,window.innerHeight);
        renderer.shadowMap.enabled = true;
        renderer.shadowMap.type = THREE.PCFsoftShadowMap;
        document.body.appendChild(renderer.domElement);
    } 

    var camera;
    function initCamera()
    {
        camera = new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,0.1,1000);
        camera.position.set(0,40,100);
        camera.lookAt(new THREE.Vector3(0,0,0));
    }

    var scene;
    function initScene()
    {
        scene = new THREE.Scene();
    }

    var light;
    function initLight()
    {
        light = new THREE.SpotLight(0xffffff)
        light.position.set(60,30,0);
        scene.add(light);
    }

    function render() {
        renderer.render( scene, camera );
    }
    
    var mesh,settings;
    function initModel() {
        //用于自定义顶点
        const geometry = new THREE.BufferGeometry();
        const vertices = new Float32Array([
            //第一个平面
           -5,3*5,-5,
           -5,-3*5,-5,
           5,-3*5,-5,
            -5,3*5,-5,
            5,-3*5,-5,
            5,3*5,-5,
        
            -5,3*5,-5,
            -5,3*5,5,
            5,3*5,5,
            -5,3*5,-5,
            5,3*5,5,
            5,3*5,-5,

            -5,3*5,-5,
            -5,5,-5,
            -5,5,5,
            -5,3*5,-5,
            -5,5,5,
            -5,3*5,5,

            5,3*5,5,
            5,5,5,
            5,5,-5,
            5,3*5,5,
            5,5,-5,
            5,3*5,-5,

            -3*5,5,-5,
            -3*5,5,5,
            -5,5,5,
            -3*5,5,-5,
            -5,5,5,
            -5,5,-5,

            5,5,-5,
            5,5,5,
            3*5,5,5,
            5,5,-5,
            3*5,5,5,
            3*5,5,-5,

            -3*5,5,-5,
            -3*5,-5,-5,
            -3*5,-5,5,
            -3*5,5,-5,
            -3*5,-5,5,
            -3*5,5,5,

            -3*5,5,-5,
            -3*5,-5,-5,
            -5,-5,-5,
            -3*5,5,-5,
            -5,-5,-5,
            -5,5,-5,

            5,5,-5,
            5,-5,-5,
            3*5,-5,-5,
            5,5,-5,
            3*5,-5,-5,
            3*5,5,-5,

            3*5,5,5,
            3*5,-5,5,
            3*5,-5,-5,
            3*5,5,5,
            3*5,-5,-5,
            3*5,5,-5,

            -3*5,-5,-5,
            -3*5,-5,5,
            -5,-5,5,
            -3*5,-5,-5,
            -5,-5,5,
            -5,-5,-5,

            -3*5,5,5,
            -3*5,-5,5,
            -5,-5,5,
            -3*5,5,5,
            -5,-5,5,
            -5,5,5,

            -5,-5,5,
            -5,-3*5,5,
            -5,-3*5,-5,
            -5,-5,5,
            -5,-3*5,-5,
            -5,-5,-5,

            5,-5,-5,
            5,-5,5,
            3*5,-5,5,
            5,-5,-5,
            3*5,-5,5,
            3*5,-5,-5,

            5,5,5,
            5,-5,5,
            3*5,-5,5,
            5,5,5,
            3*5,-5,5,
            3*5,5,5,

            5,-5,-5,
            5,-3*5,-5,
            5,-3*5,5,
            5,-5,-5,
            5,-3*5,5,
            5,-5,5,

            -5,-3*5,-5,
            -5,-3*5,5,
            5,-3*5,5,
            -5,-3*5,-5,
            5,-3*5,5,
            5,-3*5,-5,

            -5,3*5,5,
            -5,-3*5,5,
            5,-3*5,5,
            -5,3*5,5,
            5,-3*5,5,
            5,3*5,5,
        ]);
         geometry.setAttribute('position', new THREE.BufferAttribute(vertices, 3));
        const material = new THREE.MeshBasicMaterial({
            color: "#ff0000",
            side: THREE.DoubleSide,
            // wireframe: true//线着色
        });
         mesh = new THREE.Mesh(geometry, material);
        scene.add(mesh);
    var datgui = new dat.GUI();
    var params = new function()
    {
        this.color = 0x00ff00;
    }
    datgui.addColor(params,"color").onChange(e=>mesh.material.color=new THREE.Color(e));
     settings={
                scalex:1,
                scaley:1,
                scalez:1
            };
            //初始化体积gui
            var scale=datgui.addFolder("scale");
            scale.add(settings,"scalex",0.01,5);
            scale.add(settings,"scaley",0.01,5);
            scale.add(settings,"scalez",0.01,5);

    }    

    function animate() {
        renderer.render(scene,camera);
        mesh.scale.set(settings.scalex,settings.scaley,settings.scalez);//
        requestAnimationFrame(animate);
    }

    function draw()
     {
        initRender();
        initScene();
        initCamera();
        initLight();
        initModel();
        animate();
        var controls = new THREE.OrbitControls(camera,renderer.domElement);
        window.onload = animate;
    }
    window.onload = draw;
</script>
</html>